{#
 Variables:
  - variables.type: (string)
  - variables.headers: (array of string)
  - variables.rates: (array of Rate)
  - variables.date: (DateTime)
#}

{% if variables.rates %}
  {% if variables.date %}
    <h2>{{ variables.date|bamboo_i18n_format_date('custom', 'F Y')|capitalize }}</h2>
  {% endif %}

  <div>
  <table class="table table-wide tablesaw tablesaw-stack table-hypotheque" data-tablesaw-mode="stack" id="table-{{ variable.type|clean_id }}">
    {% if variables.headers and variables.headers|length > 0 %}
    <thead>
      <tr>
        {% for key, header in variables.headers %}
        <th>{{ header }}</th>
        {% endfor %}
      </tr>
    </thead>
    {% endif %}

    <tbody>
      {% for rate in variables.rates %}
      <tr>
        <td>{{ rate.getName() }}</td>
        <td>{{ rate.firstRate ? rate.firstRate|format_pourcent : '' }}</td>
        <td>{{ rate.secondRate ? rate.secondrate|format_pourcent : '' }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  </div>
{% endif %}
