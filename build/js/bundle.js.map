{"version":3,"names":[],"mappings":"","sources":["bundle.js"],"sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error(\"Cannot find module '\"+o+\"'\")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n(function (global){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.big_menu = big_menu;\n\nvar _jquery = (typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction big_menu() {\n\n  var $body = (0, _jquery2.default)('body'),\n      $wrapper = (0, _jquery2.default)('.hamburger-wrapper'),\n      $header = (0, _jquery2.default)('header'),\n      $navbar = (0, _jquery2.default)('.big-menu'),\n      $search = (0, _jquery2.default)('.global-search');\n\n  $wrapper.on('click', function () {\n    if ($wrapper.hasClass('active')) {\n      $body.toggleClass('no-scroll');\n      $header.toggleClass('active');\n      $wrapper.toggleClass('active');\n      $navbar.toggleClass('active');\n      $search.toggleClass('active');\n    } else {\n      $body.toggleClass('no-scroll');\n      $header.toggleClass('active');\n      $navbar.css({ 'display': 'block' });\n      $wrapper.toggleClass('active');\n      $navbar.toggleClass('active');\n      $search.toggleClass('active');\n    }\n  });\n\n  /** SWIPER **/\n\n  var $swiper = (0, _jquery2.default)('.swiper-menu');\n\n  /**\n   * Open the correct pan and close the old one\n   * @type {[type]}\n   */\n  $swiper.find('.swiper-list .arrow-next').on('click', function (event) {\n    event.preventDefault ? event.preventDefault() : event.returnValue = false;\n\n    // This is under 992px, we lock body when opening children pan\n    if (!window.matchMedia('(min-width: 992px)').matches) {\n      $navbar.animate({\n        scrollTop: 0\n      }, 500, function () {\n        $navbar.addClass('no-scroll');\n\n        // Fix the height for scrolling\n        var height = (0, _jquery2.default)(window).height() - (0, _jquery2.default)('.swiper-column-wrapper.active').offset().top;\n        $swiper.find('.swiper-column-wrapper-2, .swiper-column-wrapper-3').css({ 'height': height });\n      });\n    }\n\n    // Remove the empty-state\n    $swiper.find('.swiper-empty-state').not('inactive').addClass('inactive');\n    setTimeout(function () {\n      $swiper.find('.swiper-empty-state').remove();\n    }, 250);\n\n    // Unactive all other siblings li in the column\n    (0, _jquery2.default)(this).parents('.swiper-column').find('li.active').toggleClass('active');\n    // Active the clicked one\n    (0, _jquery2.default)(this).parents('li').toggleClass('active');\n\n    var $next_pane = $swiper.find('[data-list=\"' + (0, _jquery2.default)(this).attr('href') + '\"]');\n    var $next_pane_parent = $next_pane.parents('.swiper-column');\n    var $next_wrapper = $next_pane_parent.parents('.swiper-column-wrapper');\n    var $current_pane = (0, _jquery2.default)(this).parents('.swiper-list');\n\n    if ($next_pane_parent.hasClass('swiper-column-3') && $next_pane_parent.hasClass('swiper-column-waiting')) {\n      $next_pane_parent.removeClass('swiper-column-waiting');\n    }\n\n    // Unactive current opened pan\n    $swiper.find('.swiper-list-alternative.active').not($current_pane).each(function (index, elem) {\n      (0, _jquery2.default)(elem).removeClass('active');\n\n      var $wrapper = (0, _jquery2.default)(elem).parents('.swiper-column-wrapper');\n      $wrapper.removeClass('active');\n    });\n    // Open desired pan\n    $next_wrapper.addClass('active');\n    $next_pane.toggleClass('active');\n    $next_wrapper.animate({\n      scrollTop: 0\n    }, 500);\n  });\n\n  /**\n   * Open the correct pan and close the old one\n   * @type {[type]}\n   */\n  $swiper.find('.swiper-list .arrow-back').on('click', function (event) {\n    event.preventDefault ? event.preventDefault() : event.returnValue = false;\n\n    var $current_pane = (0, _jquery2.default)(this).parents('.swiper-list');\n    var $current_wrapper = (0, _jquery2.default)(this).parents('.swiper-column-wrapper');\n\n    // This is under 992px, we lock body when opening children pan\n    if ($current_wrapper.hasClass('swiper-column-wrapper-2') && !window.matchMedia('(min-width: 992px)').matches) {\n      $navbar.removeClass('no-scroll');\n    }\n\n    // Close current pane\n    $current_pane.removeClass('active');\n    setTimeout(function () {\n      $current_wrapper.removeClass('active');\n    }, 250);\n  });\n}\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],2:[function(require,module,exports){\n(function (global){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.datepicker = datepicker;\n\nvar _jquery = (typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction datepicker() {\n  (0, _jquery2.default)('.datepicker').datepicker({\n    language: 'fr',\n    format: 'dd/mm/yyyy'\n  });\n}\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],3:[function(require,module,exports){\n(function (global){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.gallery = gallery;\n\nvar _jquery = (typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction gallery() {\n\n  // Define click event on gallery item\n  (0, _jquery2.default)('.gallery').on('click', 'a', function (event) {\n\n    // Prevent location change\n    event.preventDefault();\n\n    // Generate the tree\n    var container = [];\n    (0, _jquery2.default)('.gallery [itemprop=\"associatedMedia\"]').each(function () {\n      var $this = (0, _jquery2.default)(this);\n      container.push({\n        src: $this.find('a').attr('href'),\n        w: $this.find('a').data('width'),\n        h: $this.find('a').data('height')\n      });\n    });\n\n    // Define object and gallery options\n    var $pswp = (0, _jquery2.default)('.pswp')[0],\n        options = {\n      index: (0, _jquery2.default)(this).data('index'),\n      bgOpacity: 0.85,\n      showHideOpacity: true,\n      shareEl: true,\n      shareButtons: [{ id: 'download', label: 'Download', url: '{{raw_image_url}}', download: true }]\n    };\n\n    // Initialize PhotoSwipe\n    var gallery = new PhotoSwipe($pswp, PhotoSwipeUI_Default, container, options);\n    gallery.init();\n  });\n}\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],4:[function(require,module,exports){\n'use strict';\n\nvar _big_menu = require('./big_menu.js');\n\nvar _navbar = require('./navbar.js');\n\nvar _input_dynamic_label = require('./input_dynamic_label.js');\n\nvar _input_files = require('./input_files.js');\n\nvar _organicJS = require('./organicJS.js');\n\nvar _datepicker = require('./datepicker.js');\n\nvar _number_format = require('./number_format.js');\n\nvar _smoothscroll = require('./smoothscroll.js');\n\nvar _gallery = require('./gallery.js');\n\nvar _popover = require('./popover.js');\n\n(function () {\n  (0, _big_menu.big_menu)();\n  (0, _navbar.navbar)();\n  (0, _smoothscroll.smoothscroll_load)();\n  (0, _input_dynamic_label.input_dynamic_label)();\n  (0, _input_files.input_files)();\n  (0, _gallery.gallery)();\n  (0, _organicJS.organic_generate)();\n  (0, _datepicker.datepicker)();\n  (0, _number_format.number_format)();\n  (0, _popover.popover)();\n})();\n\n},{\"./big_menu.js\":1,\"./datepicker.js\":2,\"./gallery.js\":3,\"./input_dynamic_label.js\":5,\"./input_files.js\":6,\"./navbar.js\":7,\"./number_format.js\":8,\"./organicJS.js\":9,\"./popover.js\":10,\"./smoothscroll.js\":11}],5:[function(require,module,exports){\n(function (global){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.input_dynamic_label = input_dynamic_label;\n\nvar _jquery = (typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction input_dynamic_label() {\n\n  (0, _jquery2.default)(document).on('keypress', '.form-group input', function () {\n    var $this = (0, _jquery2.default)(this),\n        $group = $this.parents('.form-group'),\n        $label = $group.find('label');\n\n    // Check the label is empty and value isn't\n    if ($this.val().length == 0 && $label.html().length == 0) {\n      $label.toggleClass('label-hidden');\n      $label.html($this.attr('data-title'));\n    }\n  });\n}\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],6:[function(require,module,exports){\n(function (global){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.input_files = input_files;\n\nvar _jquery = (typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction input_files() {\n\n  (0, _jquery2.default)('.form-file').each(function () {\n    var $handler = (0, _jquery2.default)(this).find('.form-file-handler'),\n        $this = (0, _jquery2.default)(this),\n        $input = (0, _jquery2.default)(this).find('[type=\"file\"]');\n\n    $this.on('change', function () {\n      var files = $input[0].files;\n      var $files = (0, _jquery2.default)(this).find('.files');\n      if ($files.length == 0) {\n        (0, _jquery2.default)('<div class=\"files\"></div>').insertAfter($handler);\n        $files = (0, _jquery2.default)(this).find('.files');\n      } else {\n        // Clean the list\n        $files.html('');\n      }\n\n      if (files.length == 1) {\n        $files.html('<small><i class=\"retraitespopulaires-icon retraitespopulaires-icon-documents-thick\" aria-hidden=\"true\"></i> <span>' + files[0].name + '</span></small>');\n      } else {\n        for (var x = 0; x < files.length; x++) {\n          $files.append('<small><i class=\"retraitespopulaires-icon retraitespopulaires-icon-documents-thick\" aria-hidden=\"true\"></i> <span>' + files[x].name + '</span></small>');\n        }\n      }\n    });\n  });\n}\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],7:[function(require,module,exports){\n(function (global){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.navbar = navbar;\n\nvar _jquery = (typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction navbar() {\n  (0, _jquery2.default)(document).on('click', '.hamburger-mandat-toggle, .menu-access .menu', function (e) {\n    var $this = (0, _jquery2.default)(this);\n\n    navbar_toggle();\n\n    // Open the menu when using skip-link\n    if ($this.attr('href') != '#main-navigation') {\n      e.preventDefault();\n    }\n  });\n\n  // Close the menu when ESC is pressed\n  (0, _jquery2.default)(document).keyup(function (e) {\n    if (e.keyCode == 27) {\n      var $body = (0, _jquery2.default)(document.body);\n      if ($body.hasClass('menu-push-toright')) {\n        navbar_toggle();\n      }\n    }\n  });\n\n  function navbar_toggle() {\n    var $hamburger = (0, _jquery2.default)('.hamburger-mandat-wrapper');\n    var $body = (0, _jquery2.default)(document.body);\n    var $menu = (0, _jquery2.default)('.menu-push');\n    var $overlay = (0, _jquery2.default)('.body-overlay');\n\n    $hamburger.toggleClass('active');\n    $body.toggleClass('menu-push-toright');\n    $menu.toggleClass('menu-open');\n    $overlay.toggleClass('visible');\n  }\n}\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],8:[function(require,module,exports){\n(function (global){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.number_format = number_format;\n\nvar _jquery = (typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction number_format() {\n  (0, _jquery2.default)('.form-chf-numeric').autoNumeric('init', {\n    aSep: '\\'',\n    pSign: 's',\n    aSign: ' CHF'\n  });\n\n  (0, _jquery2.default)('.form-surface-numeric').autoNumeric('init', {\n    aSep: '\\'',\n    mDec: '0',\n    pSign: 's',\n    aSign: ' m2'\n  });\n\n  (0, _jquery2.default)('.form-percent-numeric').autoNumeric('init', {\n    aSep: '\\'',\n    pSign: 's',\n    aSign: ' %'\n  });\n\n  // Replace formatted value to raw one when submitting forms\n  (0, _jquery2.default)(document).on('submit', 'form', function () {\n    var $this = (0, _jquery2.default)(this);\n\n    $this.find('.form-chf-numeric').each(function (i, el) {\n      var $el = (0, _jquery2.default)(el);\n      $el.val($el.autoNumeric('get'));\n    });\n\n    $this.find('.form-surface-numeric').each(function (i, el) {\n      var $el = (0, _jquery2.default)(el);\n      $el.val($el.autoNumeric('get'));\n    });\n\n    $this.find('.form-percent-numeric').each(function (i, el) {\n      var $el = (0, _jquery2.default)(el);\n      $el.val($el.autoNumeric('get'));\n    });\n  });\n}\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],9:[function(require,module,exports){\n(function (global){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.organic_generate = organic_generate;\n\nvar _jquery = (typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* global TimelineLite, Sine */\n\nfunction organic_generate() {\n  (0, _jquery2.default)('.organic-lines').organicJS();\n}\n\n(function ($) {\n\n  // jQuery Object\n  $.OrganicJS = function (el, options) {\n    // To avoid scope issues, use 'base' instead of 'this'\n    // to reference this class from internal events and functions.\n    var base = this;\n    var $container = null;\n\n    var styles = {\n      'big': { size: 4, duration: 25 },\n      'small': { size: 1, duration: 15 }\n    };\n\n    var patterns = [{ start: 'M1920,150 c-836, 217-1138-228-1920-8', end: 'M1920,121 C1074-171,802,527,0,0' }, { start: 'M1920,121 C1074-171,802,527,0,0', end: 'M1920,150 c-836, 217-1138-228-1920-8' }, { start: 'M1920,150 c-836, 217-500-228-1920-8', end: 'M1920,121 C500-171,802,527,0,0' }];\n\n    // Access to jQuery and DOM versions of element\n    base.$el = $(el);\n    base.el = el;\n\n    // Add a reverse reference to the DOM object\n    base.$el.data('OrganicJS', base);\n\n    base.init = function () {\n      base.options = $.extend({}, $.OrganicJS.defaultOptions, options);\n\n      base.$el.addClass('organicjs');\n      $container = $('<div class=\"organicjs-container\">');\n      base.$el.append($container);\n\n      for (var i = 0; i < base.options.big; i++) {\n        var pattern = _getPattern();\n        var $svg = base.generate('big', pattern.start, pattern.end);\n        $container.append($svg);\n      }\n\n      for (var _i = 0; _i < base.options.small; _i++) {\n        var _pattern = _getPattern();\n        var _$svg = base.generate('small', _pattern.start, _pattern.end);\n        $container.append(_$svg);\n      }\n    };\n\n    /**\n    * generate an organic line\n    * @method function\n    * @param  {[type]} size  [description]\n    * @param  {[type]} start [description]\n    * @param  {[type]} end   [description]\n    * @return {[type]}       [description]\n    */\n    base.generate = function (size, start, end) {\n      var $svg = _svg('svg', { viewBox: '0 0 1920 220', class: 'path-' + size });\n      var id = _rand_id();\n\n      var $path = _svg('path', { id: id, fill: 'none', stroke: base.options.color, 'stroke-width': styles[size].size, 'vector-effect': 'non-scaling-stroke', 'd': start });\n\n      $svg.append($path);\n\n      $(document).ready(function () {\n        var tl = new TimelineLite();\n        // let path = document.getElementById(id);\n        tl.to($path, styles[size].duration, { morphSVG: end, repeat: -1, yoyo: true, ease: Sine.easeInOut });\n      });\n\n      return $svg;\n    };\n\n    /**\n    * Creates svg tag, returned as jQuery object\n    * @method _svg\n    * @param  {[type]} tag   [description]\n    * @param  {[type]} attrs [description]\n    * @return {[type]}       [description]\n    */\n    function _svg(tag, attrs) {\n      var elem = document.createElementNS('http://www.w3.org/2000/svg', tag);\n      for (var k in attrs) {\n        elem.setAttribute(k, attrs[k]);\n      }\n      return $(elem);\n    }\n\n    function _getPattern() {\n      var rand = Math.random() * patterns.length | 0;\n      var pattern = patterns[rand];\n      patterns.splice(rand, 1);\n      return pattern;\n    }\n\n    function _rand_id() {\n      return Math.random().toString(36).substr(2, 10);\n    }\n\n    // Run initializer\n    base.init();\n  };\n\n  $.OrganicJS.defaultOptions = {\n    big: '1',\n    small: '2',\n    color: '#CBB900'\n  };\n\n  $.fn.organicJS = function (options) {\n    return this.each(function () {\n      new $.OrganicJS(this, options);\n    });\n  };\n})(jQuery);\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],10:[function(require,module,exports){\n(function (global){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.popover = popover;\n\nvar _jquery = (typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction popover() {\n  (0, _jquery2.default)('[data-toggle=\"popover\"]').popover();\n}\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],11:[function(require,module,exports){\n(function (global){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.smoothscroll_load = smoothscroll_load;\nexports.smoothscroll_click = smoothscroll_click;\n\nvar _jquery = (typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction smoothscroll_load() {\n  setTimeout(function () {\n    if (location.hash) {\n      /* we need to scroll to the top of the window first, because the browser will always jump to the anchor first before JavaScript is ready, thanks Stack Overflow: http://stackoverflow.com/a/3659116 */\n      window.scrollTo(0, 0);\n      var hash = location.hash.split('#');\n      smoothscroll_to((0, _jquery2.default)('#' + hash[1]));\n    }\n  }, 1);\n}\n\nfunction smoothscroll_click() {\n  (0, _jquery2.default)('a[href*=#]:not([href=#])').click(function () {\n    if (location.pathname.replace(/^\\//, '') == this.pathname.replace(/^\\//, '') && location.hostname == this.hostname) {\n      smoothscroll_to((0, _jquery2.default)(this.hash));\n      return false;\n    }\n  });\n}\n\nvar smoothscroll_to = function smoothscroll_to(dest) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 100;\n\n  var target = dest.length ? dest : (0, _jquery2.default)('[name=' + this.hash.slice(1) + ']');\n  if (target.length) {\n    (0, _jquery2.default)('html,body').animate({\n      scrollTop: target.offset().top - offset\n    }, 1000);\n  }\n};\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}]},{},[4])"],"file":"bundle.js","sourceRoot":"/source/"}